
import React from 'react';
import { useLocation, useNavigate } from 'react-router-dom';

function HomeIcon() {
  return (
    <svg className="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.5495 2.53189C11.3874 1.82531 12.6126 1.82531 13.4505 2.5319L20.2005 8.224C20.7074 8.65152 21 9.2809 21 9.94406V19.7468C21 20.7133 20.2165 21.4968 19.25 21.4968H15.75C14.7835 21.4968 14 20.7133 14 19.7468V14.2468C14 14.1088 13.8881 13.9968 13.75 13.9968H10.25C10.1119 13.9968 9.99999 14.1088 9.99999 14.2468V19.7468C9.99999 20.7133 9.2165 21.4968 8.25 21.4968H4.75C3.7835 21.4968 3 20.7133 3 19.7468V9.94406C3 9.2809 3.29255 8.65152 3.79952 8.224L10.5495 2.53189ZM12.4835 3.6786C12.2042 3.44307 11.7958 3.44307 11.5165 3.6786L4.76651 9.37071C4.59752 9.51321 4.5 9.72301 4.5 9.94406V19.7468C4.5 19.8849 4.61193 19.9968 4.75 19.9968H8.25C8.38807 19.9968 8.49999 19.8849 8.49999 19.7468V14.2468C8.49999 13.2803 9.2835 12.4968 10.25 12.4968H13.75C14.7165 12.4968 15.5 13.2803 15.5 14.2468V19.7468C15.5 19.8849 15.6119 19.9968 15.75 19.9968H19.25C19.3881 19.9968 19.5 19.8849 19.5 19.7468V9.94406C19.5 9.72301 19.4025 9.51321 19.2335 9.37071L12.4835 3.6786Z" fill="currentColor"/>
    </svg>
  );
}

function ScanIcon() {
  return (
    <svg className="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 6H6V8H8V6ZM3 5.25C3 4.00736 4.00736 3 5.25 3H8.75C9.99264 3 11 4.00736 11 5.25V8.75C11 9.99264 9.99264 11 8.75 11H5.25C4.00736 11 3 9.99264 3 8.75V5.25ZM5.25 4.5C4.83579 4.5 4.5 4.83579 4.5 5.25V8.75C4.5 9.16421 4.83579 9.5 5.25 9.5H8.75C9.16421 9.5 9.5 9.16421 9.5 8.75V5.25C9.5 4.83579 9.16421 4.5 8.75 4.5H5.25ZM6 16H8V18H6V16ZM3 15.25C3 14.0074 4.00736 13 5.25 13H8.75C9.99264 13 11 14.0074 11 15.25V18.75C11 19.9926 9.99264 21 8.75 21H5.25C4.00736 21 3 19.9926 3 18.75V15.25ZM5.25 14.5C4.83579 14.5 4.5 14.8358 4.5 15.25V18.75C4.5 19.1642 4.83579 19.5 5.25 19.5H8.75C9.16421 19.5 9.5 19.1642 9.5 18.75V15.25C9.5 14.8358 9.16421 14.5 8.75 14.5H5.25ZM18 6H16V8H18V6ZM15.25 3C14.0074 3 13 4.00736 13 5.25V8.75C13 9.99264 14.0074 11 15.25 11H18.75C19.9926 11 21 9.99264 21 8.75V5.25C21 4.00736 19.9926 3 18.75 3H15.25ZM14.5 5.25C14.5 4.83579 14.8358 4.5 15.25 4.5H18.75C19.1642 4.5 19.5 4.83579 19.5 5.25V8.75C19.5 9.16421 19.1642 9.5 18.75 9.5H15.25C14.8358 9.5 14.5 9.16421 14.5 8.75V5.25ZM13 13H15.75V15.75H13V13ZM18.25 15.75H15.75V18.25H13V21H15.75V18.25H18.25V21H21V18.25H18.25V15.75ZM18.25 15.75V13H21V15.75H18.25Z" fill="currentColor"/>
    </svg>
  );
}

function HistoryIcon() {
  return (
    <svg className="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M13.8711 3.19492C13.2669 3.0671 12.6409 3 12 3C11.3591 3 10.7331 3.0671 10.1289 3.19492C9.72365 3.28065 9.46463 3.67866 9.55035 4.08391C9.63608 4.48915 10.0341 4.74817 10.4393 4.66245C10.9421 4.55609 11.4641 4.5 12 4.5C12.5359 4.5 13.0579 4.55609 13.5607 4.66245C13.9659 4.74817 14.3639 4.48915 14.4496 4.08391C14.5354 3.67866 14.2764 3.28065 13.8711 3.19492ZM8.13488 4.67106C7.90897 4.32388 7.44438 4.22558 7.0972 4.4515C6.7098 4.70359 6.34305 4.98467 6 5.29169V4.25C6 3.83579 5.66421 3.5 5.25 3.5C4.83579 3.5 4.5 3.83579 4.5 4.25V7.25C4.5 7.66421 4.83579 8 5.25 8H8.25C8.66421 8 9 7.66421 9 7.25C9 6.83579 8.66421 6.5 8.25 6.5H6.90093C7.21525 6.20844 7.55458 5.94349 7.91532 5.70874C8.2625 5.48283 8.3608 5.01824 8.13488 4.67106ZM4.5 12V11.25C4.5 10.8358 4.16421 10.5 3.75 10.5C3.33579 10.5 3 10.8358 3 11.25V12C3 12.6409 3.0671 13.2669 3.19492 13.8711C3.28065 14.2764 3.67866 14.5354 4.08391 14.4496C4.48915 14.3639 4.74817 13.9659 4.66245 13.5607C4.55609 13.0579 4.5 12.5359 4.5 12ZM15.8651 4.67106C15.6392 5.01824 15.7375 5.48283 16.0847 5.70874C16.9652 6.28175 17.7182 7.03476 18.2913 7.91532C18.5172 8.2625 18.9818 8.3608 19.3289 8.13488C19.6761 7.90897 19.7744 7.44438 19.5485 7.0972C18.8614 6.04123 17.9588 5.13864 16.9028 4.4515C16.5556 4.22558 16.091 4.32388 15.8651 4.67106ZM19.3376 10.4393C19.2518 10.0341 19.5108 9.63608 19.9161 9.55035C20.3213 9.46463 20.7193 9.72365 20.8051 10.1289C20.9329 10.7331 21 11.3591 21 12C21 12.6409 20.9329 13.2669 20.8051 13.8711C20.7193 14.2764 20.3213 14.5354 19.9161 14.4496C19.5108 14.3639 19.2518 13.9659 19.3376 13.5607C19.4439 13.0579 19.5 12.5359 19.5 12C19.5 11.4641 19.4439 10.9421 19.3376 10.4393ZM4.67106 15.8651C4.32388 16.091 4.22558 16.5556 4.4515 16.9028C5.13864 17.9588 6.04123 18.8614 7.0972 19.5485C7.44438 19.7744 7.90897 19.6761 8.13488 19.3289C8.3608 18.9818 8.2625 18.5172 7.91532 18.2913C7.03476 17.7182 6.28175 16.9652 5.70874 16.0847C5.48283 15.7375 5.01824 15.6392 4.67106 15.8651ZM18.2913 16.0847C18.5172 15.7375 18.9818 15.6392 19.3289 15.8651C19.6761 16.091 19.7744 16.5556 19.5485 16.9028C18.8614 17.9588 17.9588 18.8614 16.9028 19.5485C16.5556 19.7744 16.091 19.6761 15.8651 19.3289C15.6392 18.9818 15.7375 18.5172 16.0847 18.2913C16.9652 17.7182 17.7182 16.9652 18.2913 16.0847ZM14.4496 19.9161C14.3639 19.5108 13.9659 19.2518 13.5607 19.3376C13.0579 19.4439 12.5359 19.5 12 19.5C11.4641 19.5 10.9421 19.4439 10.4393 19.3376C10.0341 19.2518 9.63608 19.5108 9.55035 19.9161C9.46463 20.3213 9.72365 20.7193 10.1289 20.8051C10.7331 20.9329 11.3591 21 12 21C12.6409 21 13.2669 20.9329 13.8711 20.8051C14.2764 20.7193 14.5354 20.3213 14.4496 19.9161Z" fill="currentColor"/>
    </svg>
  );
}

function FloorMapIcon() {
  return (
    <svg className="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M9.20337 3.9993L9.25042 3.99805L9.29617 3.99926C9.31861 4.00055 9.34109 4.00288 9.36355 4.00628L9.37963 4.01009C9.46504 4.02381 9.54992 4.05432 9.63082 4.10224L9.68268 4.13578L14.753 7.70105L19.82 4.13913C20.2878 3.81034 20.9215 4.10586 20.9944 4.6482L21.0014 4.75269V15.3852C21.0014 15.5945 20.914 15.7926 20.7632 15.9334L20.6827 15.9988L15.1827 19.8652C14.9158 20.0528 14.5948 20.0371 14.3549 19.8883L9.25002 16.297L4.18035 19.8618C3.71263 20.1906 3.07889 19.8951 3.00595 19.3527L2.99902 19.2483V8.61572C2.99902 8.4064 3.08638 8.20832 3.23714 8.06755L3.3177 8.00216L8.8177 4.13578C8.8817 4.09079 8.94882 4.05749 9.01717 4.03491L9.13964 4.0069L9.20337 3.9993ZM19.5014 6.1967L15.5014 9.00861V17.8076L19.5014 14.9957V6.1967ZM8.49902 6.19335L4.49902 9.00526V17.8042L8.49902 14.9923V6.19335ZM10.0014 6.19335V14.9923L14.0014 17.8042V9.00526L10.0014 6.19335Z" fill="currentColor"/>
    </svg>
  );
}

function ScheduleIcon() {
  return (
    <svg className="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2" fill="none" stroke="currentColor" strokeWidth="2" />
      <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" strokeWidth="2" />
      <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" strokeWidth="2" />
      <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" strokeWidth="2" />
    </svg>
  );
}

const allTabs = [
  { path: '/', label: 'Home', icon: HomeIcon },
  { path: '/scan', label: 'Scan QR', icon: ScanIcon },
  { path: '/history', label: 'History', icon: HistoryIcon },
  { path: '/floormap', label: 'Floor Map', icon: FloorMapIcon },
  { path: '/schedule', label: 'Schedule', icon: ScheduleIcon },
];

export function BottomNav() {
  const location = useLocation();
  const navigate = useNavigate();

  // Hide entire bottom nav on Home screen
  if (location.pathname === '/') return null;

  const tabs = allTabs;

  return (
    <div className="fixed bottom-0 left-0 right-0 w-full max-w-md mx-auto border-t border-border bg-background z-50">
      <div className="flex items-center justify-around h-16 px-4">
        {tabs.map(tab => (
          <button
            key={tab.path}
            onClick={() => navigate(tab.path)}
            className={`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${location.pathname === tab.path ? 'text-primary' : 'text-muted-foreground hover:text-primary'}`}
          >
            <tab.icon />
            <span className="text-xs font-medium">{tab.label}</span>
          </button>
        ))}
      </div>
    </div>
  );
}
